# Dev Journal

## Saturday September 4th, 2021

- Screenshotted 108 different Poketch states for reference using the MelonDS emulator (which is by far the best DS emulator out there). Noticed an easter egg with the Stopwatch where the Voltorb explodes if you keep the button held down long enough. Decided to update the Poketch [Bulbapedia](https://bulbapedia.bulbagarden.net/wiki/Pok%C3%A9tch) page with this info since it wasn't mentioned anywhere.
- One problem I have been mulling over is the best way to manage the different color options. I messed around with using a darker, transparent color for the sprites and just setting different backgrounds, but I could not get a good match. Black with 50% transparency works almost perfectly for the green LCD background, but it doesn't look right with the other colors. Instead I went with splitting the sprites into layers using GIMP and using ```renderingMode(.template)``` and ```foregroundColor``` to color each layer individually. I can stack the images using ZStack and then set the color for each layer depending on the current theme. It takes a bit more time to break each sprite down, but I definitely think this will make things a lot easier with theming in the long run as well as keeping things as faithful as possible. It also helps that there's only three different possible colors.
- I also managed to get the Always On feature working. Turns out that updating WatchOS to the next beta fixed it without any changes so it was probably a bug with the beta. I added in some code to stop the colon ticking when the luminance is reduced, but I should probably switch to using a [TimelineView](https://developer.apple.com/documentation/swiftui/timelineview) if possible instead for the Digital Watch app.

## Sunday August 29th, 2021

- Updated my devices to the beta OS so I could try out some new features. Mainly the Canvas API and the Always On Display.
- Having some trouble trying to get the Always On thing working. I'm probably missing something, I'll have to look more into it tomorrow.
- Also turns out I'm an idiot and missed the fact that the ContentView is not actually the root of the app. The Xcode project starts with a PoketchApp file that contains the content view wrapped in a NavigationView. That's why the navigation bar was causing so many problems with the full screen thing without me realizing. Lesson learned.

## Thursday August 26th, 2021

- Finally got the bloody full screen presentation working. I've spent ages trying to get the SwiftUI view to take up the full screen but I couldn't find any resources describing how. I only found some people saying to click the Storyboard toggle for full screen, which doesn't help in this case because I am using SwiftUI. Some were saying that only SpriteKit and SceneKit views can be set to full screen but even using those I couldn't get ignoresSafeArea(.all) to work. Eventually I found [this](https://developer.apple.com/forums/thread/656562) forum post which finally gave me the function I needed (navigationBarHidden(true)). I swear it is almost impossible to find external info related to SwiftUI on watchOS. I wonder if that's because nobody develops watchOS apps anymore or because SwiftUI is so new?
- On another note, the newish (new for me at least) Xcode preview thing is great! The problem is that SpriteKit scenes aren't available in the preview, so for now I am trying to get everything working with all the other SwiftUI tools available. Honestly this is probably a blessing in disguise since it is taking me out of my comfort zone (sprite and canvas-like drawing) and forcing me to learn how to use the proper tools (views and controls and all that).
- Added Pikachu to the digital watch app. It is adorable.
    - Need to make digits responsive so that they don't intersect with the electric mouse.